<p-table #dt [columns]="cols" dataKey="id" [value]="employeesScheduleList" [lazy]="true">
  <ng-template pTemplate="header" let-columns>
    <tr>
      <th class="{{col.header}}" *ngFor="let col of columns">
        {{col.header}}
      </th>
      <th class="toggle"></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-employeesScheduleList let-expanded="expanded" let-columns="columns">
    <tr *ngFor="let employee of employeesScheduleList.employees">
      <td>{{employee.name}}</td>
      <td>{{employee.category_name}}</td>
      <td>{{employee.total_minutes_at_week}}</td>
      <td>{{employee.hourly_pay_rate}}</td>
      <td>{{25}}</td>

      <!--<td>{{week.totalMerchandise | number: '1.2-2'}}</td>-->
      <!--<td>{{week.totalWire | number: '1.2-2'}}</td>-->
      <!--<td>{{week.totalDelivery | number: '1.2-2'}}</td>-->
      <!--<td>{{week.totalDelivery+week.totalWire+week.totalMerchandise | number: '1.2-2'}}</td>-->
      <td>
        <a href="#" [pRowToggler]="employeesScheduleList">
          <i [ngClass]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></i>
        </a>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="rowexpansion" let-rowData let-columns="columns">
    <tr>
      <td class="sub-table" [attr.colspan]="columns.length + 1">
        <div class="row">
           <div class="col-12" *ngFor="let employee of rowData.employees">
              <div class="row">
                  <div class="col" *ngFor="let schedule_day of employee.schedule_days ; let i = index">
                    <div>{{schedule_day.day_of_week}}</div>
                      <div>
                          <input type="time" [(ngModel)]="employee.schedule_days[i].time_in" placeholder="HH:mm" >
                          <input type="time" [(ngModel)]="employee.schedule_days[i].time_out" placeholder="HH:mm" >
                      </div>
                      Brake<input type="number" style="max-width:60px;" [(ngModel)]="employee.schedule_days[i].break_time" placeholder="min" >min
                      {{calcTimesDifference(employee.schedule_days[i].time_in | date: "HH:mm:ss",employee.schedule_days[i].time_out|date:"HH:mm:ss",employee.schedule_days[i].break_time)}}
<!--                    <div *ngIf="schedule_day.id == -1 && showToEdit != employee.id+schedule_day.day_of_week">Off</div>-->
<!--                    <div *ngIf="showToEdit == employee.id+schedule_day.day_of_week"><input type="text"></div>-->
<!--                    <div *ngIf="showToEdit != employee.id+schedule_day.day_of_week"><button type="button" pButton (click)="showToEdit=employee.id+schedule_day.day_of_week">Edit</button></div>-->
<!--                    <div *ngIf="showToEdit == employee.id+schedule_day.day_of_week"><button type="button" pButton (click)="saveEmployee(employee.id,schedule_day.day_of_week)">Save</button></div>-->
<!--                    <div *ngIf="showToEdit == employee.id+schedule_day.day_of_week"><button type="button" pButton (click)="showToEdit=''">Cancel</button></div>-->
                  </div>
               </div>  
           </div>
        </div>
    </tr>
  </ng-template>

</p-table>
